(function(){function k(a){var b=encodeURIComponent(a.url),c=encodeURIComponent(a.title),d=encodeURIComponent(a.pic),e=encodeURIComponent(a.description)||"";return{weibo:"http://v.t.sina.com.cn/share/share.php?url="+b+"&title="+c+"   "+e+"&pic="+d,weixin:a.url,qq:"http://connect.qq.com/widget/shareqq/index.html?url="+b+"&title="+c+"&pics="+d,qqzone:"http://sns.qzone.qq.com/cgi-bin/qzshare/cgi_qzshare_onekey?url="+b+"&title="+c+"&pics="+d+"&summary="+e,renren:"http://widget.renren.com/dialog/share?resourceUrl="+b+"&srcUrl="+b+"&title="+c+"&pic="+d+"&description="+e,qqweibo:"http://share.v.t.qq.com/index.php?c=share&a=index&title="+c+"   "+e+"&url="+b+"&appkey=ce15e084124446b9a612a5c29f82f080&site=www.jiathis.com&pic="+d,douban:"https://www.douban.com/share/service?image="+d+"&href="+b+"&name="+c+"&text="+e,googleplus:"https://plus.google.com/share?url="+b+"&t="+c,facebook:"https://www.facebook.com/sharer.php?s=100&p[title]="+c+"&p[summary]="+e+"&p[url]="+b+"&p[images]="+d}}function g(a,b){var c=k(b),d="";a.forEach(function(a,b){d="weixin"===a?d+('<a onclick="return false;" href="javascript:void(0);" target="_blank" class="share-item '+a+'" data-type="'+a+'"></a>'):d+('<a href="'+c[a]+'" target="_blank" class="share-item '+a+'" data-type="'+a+'"></a>')});return d}function l(a,b){a.addEventListener("click",function(){b.style.display="block"},!1);b.addEventListener("click",function(){b.style.display="none"},!1)}function f(a){this.config=a;this.el=this.config.el;a=document.createElement("div");a.className="qrcode";a.style.cssText="display:none";this.el.appendChild(a);this.init();return this}var m=window.QRCode,h=document.getElementsByName("description")[0];f.prototype.init=function(){var a,b=document.createElement("div"),c;"object"===typeof this.config.info?a=g(this.config.bounds,this.config.info):(c={url:window.location.href,title:document.title,description:"undefined"===typeof h?"":h.content},a=g(this.config.bounds,c),this.config.info=c);b.innerHTML=a;b.className="sharebox";this.el.querySelectorAll(".sharebox")[0]&&this.el.querySelectorAll(".sharebox")[0].remove();this.el.appendChild(b);-1!=this.config.bounds.indexOf("weixin")&&(a=this.el.querySelectorAll(".qrcode")[0],b=this.el.querySelectorAll(".weixin")[0],a.innerHTML='<p class="title">\u5fae\u4fe1\u626b\u4e00\u626b | \u70b9\u51fb\u5173\u95ed</p>',new m(a,this.config.info.url),l(b,a))};f.prototype.makeShare=function(a){this.config.info=a;this.init()};window.Share=f})(window);