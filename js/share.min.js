(function(){function k(a){var b=encodeURIComponent(a.url),d=encodeURIComponent(a.title),c=encodeURIComponent(a.pic),e=encodeURIComponent(a.description)||"";return{weibo:"http://v.t.sina.com.cn/share/share.php?url="+b+"&title="+d+"   "+e+"&pic="+c,weixin:a.url,qq:"http://connect.qq.com/widget/shareqq/index.html?url="+b+"&title="+d+"&pics="+c,qqzone:"http://sns.qzone.qq.com/cgi-bin/qzshare/cgi_qzshare_onekey?url="+b+"&title="+d+"&pics="+c+"&summary="+e,renren:"http://widget.renren.com/dialog/share?resourceUrl="+b+"&srcUrl="+b+"&title="+d+"&pic="+c+"&description="+e,qqweibo:"http://share.v.t.qq.com/index.php?c=share&a=index&title="+d+"   "+e+"&url="+b+"&appkey=ce15e084124446b9a612a5c29f82f080&site=www.jiathis.com&pic="+c,douban:"https://www.douban.com/share/service?image="+c+"&href="+b+"&name="+d+"&text="+e,googleplus:"https://plus.google.com/share?url="+b+"&t="+d,facebook:"https://www.facebook.com/sharer.php?s=100&p[title]="+d+"&p[summary]="+e+"&p[url]="+b+"&p[images]="+c}}function g(a,b){var d=k(b),c='<div class="sharebox">';a.forEach(function(a,b){c="weixin"===a?c+('<a onclick="return false;" href="javascript:void(0);" target="_blank" class="share-item '+a+'" data-type="'+a+'"></a>'):c+('<a href="'+d[a]+'" target="_blank" class="share-item '+a+'" data-type="'+a+'"></a>')});return c+="</div>"}function l(a,b){a.addEventListener("click",function(){b.style.display="block"},!1);b.addEventListener("click",function(){b.style.display="none"},!1)}function f(a){this.config=a;this.el=this.config.el;a=document.createElement("div");a.className="qrcode";a.style.cssText="display:none";this.el.appendChild(a);this.init();return this}var m=window.QRCode,h=document.getElementsByName("description")[0];f.prototype.init=function(){var a,b;"object"===typeof this.config.info?a=g(this.config.bounds,this.config.info):(b={url:window.location.href,title:document.title,description:"undefined"===typeof h?"":h.content},a=g(this.config.bounds,b),this.config.info=b);this.el.querySelectorAll(".sharebox")[0]&&this.el.removeChild(this.el.querySelectorAll(".sharebox")[0]);this.el.innerHTML+=a;-1!=this.config.bounds.indexOf("weixin")&&(a=this.el.querySelectorAll(".qrcode")[0],b=this.el.querySelectorAll(".weixin")[0],a.innerHTML='<p class="title">\u5fae\u4fe1\u626b\u4e00\u626b | \u70b9\u51fb\u5173\u95ed</p>',new m(a,this.config.info.url),l(b,a))};f.prototype.makeShare=function(a){this.config.info=a;this.init()};window.Share=f})(window);